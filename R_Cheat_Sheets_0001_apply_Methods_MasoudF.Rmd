---
title: "Python Cheat Sheets-0002-Strings-MasoudF"
output: 
  html_document:
    code_folding: show
    theme:
      bg: "#202123"
      fg: "#B8BCC2"
      primary: "#EA80FC"
      secondary: "#00DAC6"
      base_font:
        google: Prompt
      heading_font:
        google: Proza Libre
---

```{r setup, include=FALSE}
if (requireNamespace("thematic")) 
  thematic::thematic_rmd(font = "auto")
library(reticulate)
reticulate::use_python("C:/Program Files/Python310/python.exe")
```

 

## <span style="color:orange">  apply() function in R </span> {.tabset .tabset-pills}

When you want to apply a function to the rows or columns of a matrix (and higher-dimensional analogues); not generally advisable for data frames as it will coerce to a matrix first.

### apply()




#### <span style="color:orange"> Description </span> 

Returns a vector or array or list of values obtained by applying a function to margins of an <span style="color:yellow">array</span> or <span style="color:yellow">matrix</span>.

#### <span style="color:orange"> Usage  </span>

apply(X, MARGIN, FUN, ..., simplify = TRUE)

#### <span style="color:orange"> Arguments  </span>

* X  
an array, including a matrix.

* MARGIN	
a vector giving the subscripts which the function will be applied over. E.g., for a matrix 1 indicates rows, 2 indicates columns, c(1, 2) indicates rows and columns. Where X has named dimnames, it can be a character vector selecting dimension names.

* FUN	
the function to be applied: see ‘Details’. In the case of functions like +, %*%, etc., the function name must be backquoted or quoted.

* ...	
optional arguments to FUN.

* simplify	
a logical indicating whether results should be simplified if possible.

* na.rm = TRUE|FALSE

#### <span style="color:orange"> Examples  </span>


Let

$$
\text{mat}=\left(
\begin{array}{ccc}
1 & 2 & 3 \\
4 & 5 & 6\\
7 & 8 & 9\\
10 & 11 & 12\\
\end{array}
\right).
$$



```{r}
mat<-matrix(1:12,byrow=T,ncol=3,nrow=4)
apply(X=mat, MARGIN=1, FUN=sum)
apply(X=mat, MARGIN=2, FUN=sum)
#Last, if you apply the function to each cell:
apply(X=mat, MARGIN=c(1,2), FUN=sum)
apply(X=mat, MARGIN=c(1,2), FUN=function(x) x^2)
#If you set MARGIN = c(2, 1) instead of c(1, 2) the output will be the same matrix #but transposed.
apply(X=mat, MARGIN=c(2,1), FUN=function(x) x^2)
```

You can set the MARGIN argument to c(1, 2) or, equivalently, to 1:2 to apply the function to each value of the matrix. Note that, in this case, the elements of the output are the elements of the matrix itself, as it is calculating the sum of each individual cell.


<span style="color:yellow">
If you set MARGIN = c(2, 1) instead of c(1, 2) the output will be the same matrix but transposed.
</span>



```{r}
apply(mat, 2, range)   # Range (min and max values) by column

apply(mat, 1, summary) # Summary for each row

apply(mat, 2, summary) # Summary for each column
```

```{r}
mat<-matrix(1:9,byrow=T,ncol=3)
apply(X=mat, MARGIN=1, FUN=sum)==rowSums(mat)
apply(X=mat, MARGIN=2, FUN=sum)==colSums(mat)

```

```{r}
# Return the product of each of the rows
apply(X=mat,MARGIN=1,FUN=prod)
# Return the sum of each of the columns
apply(X=mat,MARGIN=2,FUN=min)

```

#### <span style="color:orange"> Applying a custom function </span>

* تابع یک بردار را می‌گیرد و یک عدد را بر می‌گرداند 

در این حالت خروجی یک بردار است

```{r}
# Return a new matrix whose entries are those of 'm' modulo 10
apply(mat,1,function(x) sum(x))== rowSums(mat)
# Return a new matrix whose entries are those of 'm' modulo 10
apply(mat,2,function(x) mean(x))== colMeans(mat)
```

* تایع یک بردار را می‌گیرد و یک بردار را بر می‌گرداند

در این حالت خروجی یک ماتریس است و بدرد مواردی می خورد که بخواهیم روی هر عنصر یک تابع خاص را اعمال کنیم.

در این حالت چه روی سطر چه روی ستون تابع اعمال شود تفاوتی ندارد

```{r}
# Return a new matrix whose entries are those of 'm' modulo 10
apply(mat,1,function(x) x%%2)
# Return a new matrix whose entries are those of 'm' modulo 10
apply(mat,2,function(x) x%%2)
```


#### <span style="color:orange"> Passing arguments to iterated function through apply  </span>

Note the ... in the function definition:

```{r}
args(apply)
```
and the corresponding entry in the documentation:

...: optional arguments to ‘FUN’.


```{r}	
f1 <- function(x,v2){
  x+v2
}
apply(X=mat,MARGIN = c(1,2), FUN = f1,v2=1)
```
	




###  lapply()

```{r}
#Example
#Sort the list alphabetically:


```


#### <span style="color:orange">  </span>

















###  sapply()

```{r}
#Example
#Sort the list alphabetically:


```


#### <span style="color:orange">  </span>



###  vapply()

```{r}
#Example
#Sort the list alphabetically:


```


#### <span style="color:orange">  </span>


###  tapply()

```{r}
#Example
#Sort the list alphabetically:


```


#### <span style="color:orange">  </span>








###  mapply()

```{r}
#Example
#Sort the list alphabetically:


```


#### <span style="color:orange">  </span>






###  by()

```{r}
#Example
#Sort the list alphabetically:


```


#### <span style="color:orange">  </span>




Map 
###  Map()

```{r}
#Example
#Sort the list alphabetically:


```


#### <span style="color:orange">  </span>




###  replicate()

```{r}
#Example
#Sort the list alphabetically:


```


#### <span style="color:orange">  </span>

## Contact us

Contact me at masoudfaridi@modares.ac.ir or masoud1faridi@gmail.com

